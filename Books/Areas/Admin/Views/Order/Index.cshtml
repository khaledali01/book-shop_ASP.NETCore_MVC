@{
    ViewData["Title"] = "Index";
#pragma warning disable
}
<div class="container p-3">
    <div class="row pt-4">
        <div class="col-6">
            <h2 class="text-primary">Orders</h2>
        </div>
    </div>
    <br>
    <table id="orders" class="table table-striped table-hover stripe w-100">
        <thead>
            <tr>
                <th scope="col">
                    @Html.DisplayName("Id")
                </th>        
                <th scope="col">
                    @Html.DisplayName("First Name")
                </th>
                <th scope="col">
                    @Html.DisplayName("Last Name")
                </th>
                <th scope="col">
                    @Html.DisplayName("Phone Number")
                </th>
                <th scope="col">
                    @Html.DisplayName("Email")
                </th>
                <th scope="col">
                    @Html.DisplayName("Status")
                </th>
                <th scope="col">
                    @Html.DisplayName("Total")
                </th>
                <th scope="col"></th>
            </tr>
        </thead>
    </table>
</div>

@section scripts
{

<script>
$(document).ready(function () {
    var table = $("#orders").DataTable({
        ajax: {
            url: "/api/v1/orders/",
            type: "GET",
            dataType: "json",
            dataSrc:""
        },
        columns: [
            {
                data: "id",
            },
            {
                data: "firstName",
            },
            {
                data: "lastName",
            },
            {
                data: "phoneNumber",
            },              
            {
                data: "applicationUser.email",
            },
            {
                data: "orderStatus",
            },
            {
                data: "orderTotal",
            },
            {
                data: "id",
                data: "id",
                render: function(data, type, order) {
                    return `<a class='btn-link' href='/Admin/Order/Details/${order.id}'><i class='bi bi-pencil-square' style='color:#75caeb; cursor:pointer;'></i></a>`
                },
                className: 'text-light dt-body-center'
            }
        ]
    });
});
</script>
} 